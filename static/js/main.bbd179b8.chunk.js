(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,a){e.exports=a(75)},43:function(e,t,a){},44:function(e,t,a){},63:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(34),c=a.n(o),r=(a(43),function(){return s.a.createElement("header",{id:"main-header"},s.a.createElement("a",{className:"logo",href:"/"},"BotApp"),s.a.createElement("div",null,s.a.createElement("a",{className:"resto",href:"/bots"},"Bots"),s.a.createElement("a",{className:"resto",href:"/chats"},"Chats")))}),l=(a(44),a(8)),i=a.n(l),m=a(17),u=a(14),d=a(2),h=a(3),p=a(5),g=a(4),f=a(6),v=a(35),b=a.n(v).a.create({baseURL:"https://sabion-challenge-one.herokuapp.com/api"}),E=(a(63),a(7)),j=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(s)))).state={bots:[],docInfo:{},page:1},a.loadBots=Object(u.a)(i.a.mark(function e(){var t,n,s,o,c,r=arguments;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:1,e.next=3,b.get("/bots?page=".concat(t));case 3:n=e.sent,console.log(n.data),s=n.data,o=s.docs,c=Object(m.a)(s,["docs"]),a.setState({bots:o,docInfo:c,page:t});case 7:case"end":return e.stop()}},e)})),a.nextPage=function(){var e=a.state,t=e.page;if(t!==e.docInfo.pages){var n=t+1;a.loadBots(n)}},a.prevPage=function(){var e=a.state,t=e.page;e.docInfo;if(1!==t){var n=t-1;a.loadBots(n)}},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.loadBots()}},{key:"deleteBot",value:function(e){b.delete("/bots/".concat(e)).then(function(e){alert("Bot deletado com sucesso"),window.location.reload()}).catch(function(e){alert("Opa, um erro ocorreu... Estamos Trabalhando nisso!"),console.log(e)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.bots,n=t.page,o=t.docInfo;return s.a.createElement("div",{className:"bots-list"},s.a.createElement("article",null,s.a.createElement(E.c,{to:"/createBot"}," Criar um novo Bot ")),a.map(function(t){return s.a.createElement("article",{key:t._id},s.a.createElement("strong",null,t.name),s.a.createElement("p",null,"Criado em ",t.createdAt),s.a.createElement(E.c,{to:"/bots/".concat(t._id)}," Editar "),s.a.createElement("button",{onClick:function(){e.deleteBot(t._id)}},"Deletar"))}),s.a.createElement("div",{className:"actions"},s.a.createElement("button",{disabled:1===n,onClick:this.prevPage},"Anterior"),s.a.createElement("button",{disabled:n===o.pages,onClick:this.nextPage},"Pr\xf3ximo")))}}]),t}(n.Component),y=a(16),O=(a(68),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(s)))).state={messages:[],docInfo:{},page:1},a.loadMessages=Object(u.a)(i.a.mark(function e(){var t,n,s,o,c,r=arguments;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:1,e.next=3,b.get("/messages?page=".concat(t));case 3:n=e.sent,console.log(n.data),s=n.data,o=s.docs,c=Object(m.a)(s,["docs"]),a.setState({messages:o,docInfo:c,page:t});case 7:case"end":return e.stop()}},e)})),a.nextPage=function(){var e=a.state,t=e.page;if(t!==e.docInfo.pages){var n=t+1;a.loadMessages(n)}},a.prevPage=function(){var e=a.state,t=e.page;e.docInfo;if(1!==t){var n=t-1;a.loadMessages(n)}},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.loadMessages()}},{key:"render",value:function(){var e=this.state,t=e.messages,a=e.page,n=e.docInfo;return s.a.createElement("div",{className:"messages-list"},s.a.createElement("article",null,s.a.createElement(E.c,{to:"/createMessage"}," Registrar uma nova mensagem ")),t.map(function(e){return s.a.createElement("article",{key:e._id},s.a.createElement("strong",null,"Conversa: ",e.chatId),s.a.createElement("p",null,"Corpo da mensagem: ",e.body),s.a.createElement("p",null,"Remetente: ",e.sender),s.a.createElement("p",null,"Enviada em ",e.createdAt),s.a.createElement(E.c,{to:"/messages/".concat(e._id)}," Ver Apenas essa mensagem "),s.a.createElement(E.c,{to:"/chats/".concat(e.chatId)}," Ver todas as mensagens desta Conversa "))}),s.a.createElement("div",{className:"actions"},s.a.createElement("button",{disabled:1===a,onClick:this.prevPage},"Anterior"),s.a.createElement("button",{disabled:a===n.pages,onClick:this.nextPage},"Pr\xf3ximo")))}}]),t}(n.Component)),C=(a(69),function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"home"},s.a.createElement("h3",null,"Clique em Bots para utilizar as fun\xe7\xf5es de Bot"),s.a.createElement("h3",null,"Clique em Chats para utilizar as fun\xe7\xf5es de conversa e mensagem"))}}]),t}(n.Component)),k=a(12),w=(a(70),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).state={bot:{},newName:""},a.handleChange=a.handleChange.bind(Object(k.a)(a)),a.send=a.send.bind(Object(k.a)(a)),a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,b.get("/bots/"+t);case 3:a=e.sent,this.setState({bot:a.data});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(e){if(""!==this.state.newName){var t=this.props.match.params.id;b.put("/bots/"+t,{name:this.state.newName},{header:{"Content-Type":"aplication/json"}}).then(function(e){console.log(e)}),e.preventDefault(),this.setState({bot:{name:this.state.newName}})}else alert("O campo novo nome n\xe3o pode estar vazio")}},{key:"handleChange",value:function(e){this.setState({newName:e.target.value})}},{key:"render",value:function(){var e=this.state.bot;return s.a.createElement("div",{className:"bot-info"},s.a.createElement("form",{onSubmit:this.send},s.a.createElement("span",null," Nome atual: ",s.a.createElement("strong",null,e.name)),s.a.createElement("p",null," Qual ser\xe1 o novo nome? "),s.a.createElement("input",{className:"text-area",type:"text",value:e.newName,onChange:this.handleChange}),s.a.createElement("input",{className:!0,type:"submit",value:"Salvar"})))}}]),t}(n.Component)),x=(a(71),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(s)))).state={messages:[],docInfo:{},page:1},a.loadMessages=Object(u.a)(i.a.mark(function e(){var t,n,s,o,c,r,l=arguments;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:1,n=a.props.match.params.id,e.next=4,b.get("/messages/chat/".concat(n,"?page=").concat(t));case 4:s=e.sent,console.log(s.data),o=s.data,c=o.docs,r=Object(m.a)(o,["docs"]),a.setState({messages:c,docInfo:r,page:t});case 8:case"end":return e.stop()}},e)})),a.nextPage=function(){var e=a.state,t=e.page;if(t!==e.docInfo.pages){var n=t+1;a.loadMessages(n)}},a.prevPage=function(){var e=a.state,t=e.page;e.docInfo;if(1!==t){var n=t-1;a.loadMessages(n)}},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.loadMessages()}},{key:"render",value:function(){var e=this.state,t=e.messages,a=e.page,n=e.docInfo;return s.a.createElement("div",{className:"messages-list"},t.map(function(e){return s.a.createElement("article",{key:e._id},s.a.createElement("strong",null,"Conversa: ",e.chatId),s.a.createElement("p",null,"Corpo da mensagem: ",e.body),s.a.createElement("p",null,"Remetente: ",e.sender),s.a.createElement("p",null,"Enviada em ",e.createdAt),s.a.createElement(E.c,{to:"/messages/".concat(e._id)}," Ver Apenas essa mensagem "),s.a.createElement(E.c,{to:"/chat/".concat(e.chatId)}," Ver todas as mensagens desta Conversa "))}),s.a.createElement("div",{className:"actions"},s.a.createElement("button",{disabled:1===a,onClick:this.prevPage},"Anterior"),s.a.createElement("button",{disabled:a===n.pages,onClick:this.nextPage},"Pr\xf3ximo")))}}]),t}(n.Component)),N=(a(72),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(s)))).state={message:{}},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,b.get("/messages/"+t);case 3:a=e.sent,this.setState({message:a.data});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.message;return s.a.createElement("div",{className:"message-info"},s.a.createElement("article",null,s.a.createElement("strong",null," ID: ",e._id),s.a.createElement("p",null,"Corpo da Mensagem: ",e.body),s.a.createElement("p",null,"Remetente: ",e.sender),s.a.createElement("p",null,"Enviada em: ",e.createdAt)))}}]),t}(n.Component)),I=a(19),B=(a(73),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).state={body:"",chatId:"",sender:""},a.handleChange=a.handleChange.bind(Object(k.a)(a)),a.send=a.send.bind(Object(k.a)(a)),a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"send",value:function(e){""!==this.state.body&&""!==this.state.chatId&&""!==this.state.sender?(b.post("/messages",{body:this.state.body,chatId:this.state.chatId,sender:this.state.sender},{header:{"Content-Type":"aplication/json"}}).then(function(e){console.log(e)}),e.preventDefault(),this.props.history.push("/chats")):alert("Nenhum campo pode estar vazio")}},{key:"handleChange",value:function(e){this.setState(Object(I.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return s.a.createElement("div",{className:"message-create"},s.a.createElement("form",{onSubmit:this.send},s.a.createElement("strong",null,"Preencha todos os campos"),s.a.createElement("p",null,"ID conversa "),s.a.createElement("input",{className:"text-area",type:"text",name:"chatId",value:this.state.chatId,onChange:this.handleChange}),s.a.createElement("p",null,"Remetente "),s.a.createElement("input",{className:"text-area",type:"text",name:"sender",value:this.state.sender,onChange:this.handleChange}),s.a.createElement("p",null,"Mensagem "),s.a.createElement("input",{className:"text-area",type:"text",name:"body",value:this.state.body,onChange:this.handleChange}),s.a.createElement("input",{type:"submit",value:"Salvar"})))}}]),t}(n.Component)),M=(a(74),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).state={name:""},a.handleChange=a.handleChange.bind(Object(k.a)(a)),a.send=a.send.bind(Object(k.a)(a)),a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"send",value:function(e){""!==this.state.name?(b.post("/bots",{name:this.state.name},{header:{"Content-Type":"aplication/json"}}).then(function(e){console.log(e)}),e.preventDefault(),this.props.history.push("/bots")):alert("Insira um nome para o Bot")}},{key:"handleChange",value:function(e){this.setState(Object(I.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return s.a.createElement("div",{className:"bot-create"},s.a.createElement("form",{onSubmit:this.send},s.a.createElement("strong",null,"Qual ser\xe1 o nome do Bot?"),s.a.createElement("p",null,"Nome "),s.a.createElement("input",{className:"text-area",type:"text",name:"name",value:this.state.name,onChange:this.handleChange}),s.a.createElement("input",{type:"submit",value:"Salvar"})))}}]),t}(n.Component)),P=function(){return s.a.createElement(E.a,null,s.a.createElement(y.c,null,s.a.createElement(y.a,{exact:!0,path:"/",component:C}),s.a.createElement(y.a,{exact:!0,path:"/bots",component:j}),s.a.createElement(y.a,{path:"/bots/:id",component:w}),s.a.createElement(y.a,{exact:!0,path:"/chats",component:O}),s.a.createElement(y.a,{path:"/chats/:id",component:x}),s.a.createElement(y.a,{path:"/messages/:id",component:N}),s.a.createElement(y.a,{path:"/createMessage",component:B}),s.a.createElement(y.a,{path:"/createBot",component:M})))},A=function(){return s.a.createElement(E.b,{basename:"/"},s.a.createElement("div",{className:"App"},s.a.createElement(r,null),s.a.createElement(P,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.bbd179b8.chunk.js.map